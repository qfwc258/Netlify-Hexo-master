title: 动态请/批假 - 引用审批模板
date: 2017/10/26
comments: true
tags:
 - 请假
 - 审批
 - 模板
categories:
 - 开发
----------

![我操你们大爷](http://oih7sazbd.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20171026105607.jpg)
<!-- more -->

## IDE：
  >**[Atom](https://atom.io/)**

  >**[fiddler4](https://www.telerik.com/download/fiddler/fiddler4)**

  >**[MyEclipse](http://www.myeclipsecn.com/)**

## 浏览器
  >**[chrome](http://www.google.cn/chrome/browser/desktop/index.html)**

## 步骤记录
### 抓包
  1. 在dos命令中输入ipconfig,获取本机IP(此处以windows为例)
  ![](http://oih7sazbd.bkt.clouddn.com/QQ%E6%88%AA%E5%9B%BE20171026110329.png)

  2. 手机连接WIFI(此处以iPhone为例),配置手动代理,服务器地址为本机IP,端口8888,配置完成存储即可
  ![](http://oih7sazbd.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20171026110449.png)

  3. 打开fiddler
  ![](http://oih7sazbd.bkt.clouddn.com/QQ%E6%88%AA%E5%9B%BE20171026110650.png)

  4. 打开APP,进入要抓取的界面
  ![](http://oih7sazbd.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20171026105612.png)

  5. 点击请假后,从fiddler左侧的列表页面找到请求,获取这个请求的所有参数

  **request**
  ```
  URL: leaveinfoManage_listLeaveinfo.do?method=addLeaveinfoMobileV32
  param:
  auth: A6DBCA39D1B3F5FCB56465C5B89990DB
  disease: 2
  leaveType: 1
  roleid: 229
  reason: 老婆怀孕
  stuid: 633072283
  title:
  startTime: 2017-10-26 10:30:00
  endTime: 2017-10-30 10:32:00
  ```
  **response**
  ```
  {
    "Version": "1.0",
    "Charset": "UTF-8",
    "auth": "auth",
    "saltkey": "342807",
    "sid": "41",
    "userid": "855908485",
    "error": "success"
 }
  ```

  6. 本地手动模拟测试
